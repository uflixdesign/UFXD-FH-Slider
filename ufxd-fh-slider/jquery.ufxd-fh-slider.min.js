/**
 * Plugin Name: UFXD Fixed-Height Slider ( Responsive )
 * Version: 1.0
 * Copyright 2015 UFLIX DESIGN ( http://uflixdesign.com )
 * License: http://www.apache.org/licenses/LICENSE-2.0
 * Requires: jQuery 1.9+
 */
(function(a){a.fn.ufxd_fh_slider=function(b){var c=a.extend({loop:true,slider_height:400,thumb_size:64,thumb_offset_x:4,thumb_offset_y:4,image_size:"cover",autoplay:4000},b);return this.each(function(e,f){new d(f,c.slider_height,c.thumb_size,c.image_size)});function d(i,f,k,h){var g=this;g.$el=a(i);g.$slides_wrap=g.$el.find(".ufxd-fh-slider-slides");g.$slides=g.$slides_wrap.find("img");if(typeof(f)=="undefined"){f=400}g.slider_height=f;if(typeof(k)=="undefined"){k=64}g.thumb_size=k;g.current_slide=-1;g.slide_count=g.$slides.length;if(typeof(h)=="undefined"){h="cover"}g.image_size=h;g.next=function(){g.goto_slide(g.current_slide+1)};g.previous=function(){g.goto_slide(g.current_slide-1)};g.goto_slide=function(l){if(!g.slide_count){return}if(l==g.current_slide){return}if(l>=g.slide_count){l=c.loop?0:g.slide_count-1}else{if(l<0){l=c.loop?g.slide_count-1:0}}j(l)};function j(l){g.$slides.eq(g.current_slide).removeClass("ufxd-fh-slider-slide-active");g.$slides.eq(l).addClass("ufxd-fh-slider-slide-active");g.$thumbs.eq(g.current_slide).removeClass("ufxd-fh-slider-thumb-active");g.$thumbs.eq(l).addClass("ufxd-fh-slider-thumb-active");if((l+2)*(k+c.thumb_offset_x)>g.$thumbs_wraper.width()){if(l>=g.slide_count-1){displacement=(l+1)*(k+c.thumb_offset_x)-g.$thumbs_wraper.width()}else{displacement=(l+2)*(k+c.thumb_offset_x)-g.$thumbs_wraper.width()}g.$thumbs_inner.css("left",(-displacement)+"px")}else{g.$thumbs_inner.css("left",(c.thumb_offset_x)+"px")}g.current_slide=l}function e(){var m="";var l='<div class="ufxd-fh-slider-thumbs-wraper"><ul class="ufxd-fh-slider-thumbs-inner ufxd-fh-slider-clearfix">';g.$slides.each(function(o,q){var n=a(q).attr("src");var p=a(q).data("thumb");if(typeof(p)=="undefined"){p=n}m+='<div class="ufxd-fh-slider-slide-item" style="background-image:url('+n+');"></div>';l+='<li class="ufxd-fh-slider-thumb" style="background-image:url('+p+');"></li>'});l+="</ul></div>";g.$el.append(l);g.$slides_wrap.html(m);setTimeout(function(){g.$slides=g.$slides_wrap.find(".ufxd-fh-slider-slide-item");g.$thumbs_wraper=g.$el.find(".ufxd-fh-slider-thumbs-wraper");g.$thumbs_inner=g.$el.find(".ufxd-fh-slider-thumbs-inner");g.$thumbs=g.$el.find(".ufxd-fh-slider-thumb");g.$slides_wrap.height(g.slider_height);g.$el.find(".ufxd-fh-trigger-left").click(function(n){n.preventDefault();g.previous()});g.$el.find(".ufxd-fh-trigger-right").click(function(n){n.preventDefault();g.next()});g.$slides.each(function(o,q){var n=a(q).css("background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0];var p=a("<img />");p.bind("load",function(r){if(a(this).height()<g.slider_height&&a(this).height()<g.$slides_wrap.width()){a(q).css("background-size","auto")}a(this).remove()});a("body").append(p);p.attr("src",n);a(q).css("background-size",h)});g.$thumbs_inner.width(g.$thumbs.length*(k+c.thumb_offset_x));g.$thumbs_wraper.height(k+(c.thumb_offset_y*2));g.$thumbs.each(function(n,o){a(o).click(function(p){g.goto_slide(n)}).width(k).height(k).css({"margin-right":c.thumb_offset_x+"px","margin-top":c.thumb_offset_y+"px"})});g.goto_slide(0);if(c.autoplay){c.loop=true;g.play()}},10)}g.play=function(){g.autoplay_timer=setTimeout(function(){g.next();g.play()},c.autoplay)};e()}}})(jQuery);